- clean: ['~']

- shell:
    - command: sh scripts/install_homebrew.sh
      description: Install Homebrew
      stdout: true
      stderr: true
      stdin: true 

    - command: sh scripts/install_oh_my_zsh.sh
      description: Install Oh My Zsh
      stdout: true
      stderr: true

- link:
    ~/.gitconfig: gitconfig
    ~/.gitconfig_github: gitconfig_github
    ~/.gitconfig_codehub: gitconfig_codehub
    ~/.gitconfig_bitbucket: gitconfig_bitbucket
    ~/.gitignore_global: gitignore_global
    ~/.ssh/config:
        path: ssh/config
        create: true
    ~/.zprofile: zprofile
    ~/.zshrc: zshrc
    ~/.Brewfile: Brewfile
    ~/.config/1Password/ssh/agent.toml:
        path: "1Password/ssh/agent.toml"
        create: true

- create:
    - ~/Developer/GitHub
    - ~/Developer/CodeHub
    - ~/Developer/Bitbucket

- shell:
    - command: brew bundle install --global --upgrade
      description: Install Brewfile packages
      stdout: true
      stderr: true

    - command: sh scripts/install_keyboard_layout.sh
      description: Install USGerman keyboard layout
      stdout: true
      stderr: true
      stdin: true
      
    - command: sh scripts/apply_defaults.sh
      description: Set macOS defaults
      stdout: true
      stderr: true
